function o(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}class h{constructor(){this.prismLinkId="prism-theme-link",this.prismDarkTheme="./assets/hui-prism.min.css",this.prismLightTheme="./assets/hui-prism-light.min.css",this.init()}init(){this.loadInitialTheme(),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>this.setupThemeToggle()):this.setupThemeToggle()}loadInitialTheme(){const e="dark";document.documentElement.setAttribute("data-bs-theme",e),this.loadPrismTheme(e)}getSystemPreference(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}loadPrismTheme(e){const i=e==="dark"?"hui-prism.min.css":"hui-prism-light.min.css";let s=document.getElementById(this.prismLinkId);if(s){const n=s.href,m=n.substring(0,n.lastIndexOf("/")+1);s.href=m+i,s.onload=()=>{typeof Prism<"u"&&Prism.highlightAll&&Prism.highlightAll()}}}setupThemeToggle(){const e=document.getElementById("admin-dark-mode-switch");if(!e){console.log("Theme toggle not found - theme system still active for manual switching");return}const i=(document.documentElement.getAttribute("data-bs-theme")||"light")==="dark";e.checked=i,e.addEventListener("change",s=>{this.applyTheme(s.target.checked)}),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",s=>{if(!localStorage.getItem("theme-preference")){const n=s.matches;e.checked=n,this.applyTheme(n)}})}applyTheme(e){const t=e?"dark":"light",i=document.documentElement;i.classList.add("theme-transitioning"),i.setAttribute("data-bs-theme",t),localStorage.setItem("theme-preference",t),this.loadPrismTheme(t),console.log(`Docs theme switched to: ${t}`),setTimeout(()=>{i.classList.remove("theme-transitioning")},300),window.dispatchEvent(new CustomEvent("themeChanged",{detail:{theme:t,isDark:e}}))}setTheme(e){const t=e==="dark",i=document.getElementById("admin-dark-mode-switch");i&&(i.checked=t),this.applyTheme(t)}}window.docsTheme=new h;export{o as __vite_legacy_guard};
